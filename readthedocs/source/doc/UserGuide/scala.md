### **1. Install**

#### **1.1 Official Release** 

Currently, Analytics Zoo releases are hosted on maven central; here's an example to add the Analytics Zoo dependency to your own project:
```xml
<dependency>
    <groupId>com.intel.analytics.zoo</groupId>
    <artifactId>analytics-zoo-[bigdl_0.10.0|bigdl_0.12.1]-[spark_2.1.1|spark_2.2.1|spark_2.3.1|spark_2.4.3|spark_3.0.0]</artifactId>
    <version>${ANALYTICS_ZOO_VERSION}</version>
</dependency>
```
You can find the latest ANALYTICS_ZOO_VERSION [here](https://search.maven.org/search?q=analytics-zoo-bigdl).   
Please note: BIGDL VERSION is bound to ANALYTICS_ZOO_VERSION, you may need to change BIGDL VERSION when you update ANALYTICS_ZOO_VERSION.

SBT developers can use
```sbt
libraryDependencies += "com.intel.analytics.zoo" % "analytics-zoo-[bigdl_0.10.0|bigdl_0.12.1]-[spark_2.1.1|spark_2.2.1|spark_2.3.1|spark_2.4.3|spark_3.0.0]" % "${ANALYTICS_ZOO_VERSION}"
```

#### **1.2 Nightly Build**

Currently, Analytics Zoo development version is hosted on [SonaType](https://oss.sonatype.org/content/groups/public/com/intel/analytics/zoo/).

To link your application with the latest Analytics Zoo development version, you should add some dependencies like [official releases](#11-official-release), but set `${ANALYTICS_ZOO_VERSION}` to latest version, and add below repository to your pom.xml.

```xml
<repository>
    <id>sonatype</id>
    <name>sonatype repository</name>
    <url>https://oss.sonatype.org/content/groups/public/</url>
    <releases>
        <enabled>true</enabled>
    </releases>
    <snapshots>
        <enabled>true</enabled>
    </snapshots>
</repository>
```

SBT developers can use
```sbt
resolvers += "ossrh repository" at "https://oss.sonatype.org/content/repositories/snapshots/"
```

#### **1.3 Download Pre-Built Package**

You can download the Analytics Zoo release and nightly build from the [Release Page](../release.md)

### **2. Run**

Before running Analytics Zoo, Environment Variables **ANALYTICS_ZOO_HOME** and **SPARK_HOME** should be set:

* If you download Analytics Zoo from the [Release Page](../release-download.md)
```bash
export SPARK_HOME=folder path where you extract the spark package
export ANALYTICS_ZOO_HOME=folder path where you extract the analytics zoo package
```

* If you build Analytics Zoo by yourself
```bash
export SPARK_HOME=folder path where you extract the spark package
export ANALYTICS_ZOO_HOME=the dist folder generated by the build process, which is under the top level of the source folder
```

---
#### **2.1 Use Interactive Spark Shell**
You can try Analytics Zoo easily using the Spark interactive shell. Run below command to start spark shell with Analytics Zoo support:
```bash
${ANALYTICS_ZOO_HOME}/bin/spark-shell-with-zoo.sh --master local[*]
```
You will see a welcome message looking like below:
```
Welcome to
      ____              __
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 2.4.3
      /_/
         
Using Scala version 2.11.12 (Java HotSpot(TM) 64-Bit Server VM, Java 1.8.0_112)
Type in expressions to have them evaluated.
Type :help for more information.
```

Now you'll be able to play with Analytics Zoo API's.
For instance, to load a pre-trained object detection model, you may try below code:
```scala
scala> import com.intel.analytics.zoo.models.image.objectdetection.ObjectDetector
import com.intel.analytics.zoo.models.image.objectdetection.ObjectDetector

scala> ObjectDetector.loadModel[Float](params.modelPath)
```

---

#### **2.2 Run as a Spark Program**
You can run a analytics zoo program, e.g., the [Object Detection](https://github.com/intel-analytics/analytics-zoo/tree/master/zoo/src/main/scala/com/intel/analytics/zoo/examples/objectdetection), as a standard Spark program (running in either local mode or cluster mode) as follows:

1. Download the pre-trained model from [here](https://github.com/intel-analytics/analytics-zoo/blob/master/docs/docs/ProgrammingGuide/object-detection.md).
2. Prepare predict images
3. Run the following command:
```bash
# Spark local mode
${ANALYTICS_ZOO_HOME}/bin/spark-submit-scala-with-zoo.sh \ 
  --master local[core_number] \
  --class com.intel.analytics.zoo.examples.objectdetection.Predict \
  dist/lib/analytics-zoo-VERSION-jar-with-dependencies.jar \
  --image path_to_your_images \
  --output path_to_output \
  --model path_to_model

# Spark standalone mode
${ANALYTICS_ZOO_HOME}/bin/spark-submit-scala-with-zoo.sh \
  --master spark://... \
  --executor-cores cores_per_executor \
  --total-executor-cores total_cores_for_the_job \
  --class com.intel.analytics.zoo.examples.objectdetection.Predict \
  dist/lib/analytics-zoo-VERSION-jar-with-dependencies.jar \
  --image path_to_your_images \
  --output path_to_output \
  --model path_to_model

# Spark yarn client mode
${ANALYTICS_ZOO_HOME}/bin/spark-submit-scala-with-zoo.sh \
  --master yarn \
  --deploy-mode client \
  --executor-cores cores_per_executor \
  --num-executors executors_number \
  --class com.intel.analytics.zoo.examples.objectdetection.Predict \
  dist/lib/analytics-zoo-VERSION-jar-with-dependencies.jar \
  --image path_to_your_images \
  --output path_to_output \
  --model path_to_model

# Spark yarn cluster mode
${ANALYTICS_ZOO_HOME}/bin/spark-submit-scala-with-zoo.sh \
  --master yarn \
  --deploy-mode cluster \
  --executor-cores cores_per_executor \
  --num-executors executors_number \
  --class com.intel.analytics.zoo.examples.objectdetection.Predict \
  dist/lib/analytics-zoo-VERSION-jar-with-dependencies.jar \
  --image path_to_your_images \
  --output path_to_output \
  --model path_to_model
```

If you are to run your own program, do remember to create SparkContext and initialize before calling other Analytics Zoo API's, as shown below.
```scala
import com.intel.analytics.zoo.common.NNContext
val sc = NNContext.initNNContext(conf)
```

